import{r as w,u as P,j as e,B as m,I as F,l as C,G as c,C as x,e as h}from"./index-DJfC_LKA.js";import{F as p,b as j,c as I,a as f,d as N}from"./index.esm-D1SUAxcJ.js";import{S as o,F as i}from"./FormikInputField-BCFqIq4V.js";import{u as U,F as S,a as k,b as A}from"./useUpdateUser-DMboG7Aw.js";import{F as b}from"./FormikPasswordField-Bz6U1Ahf.js";import{A as R}from"./AppTabs-DNBFqnla.js";import{C as l}from"./Card-BxkeFcvN.js";import{G as d}from"./Grid-Cf1oGVub.js";import{T as q}from"./Title-CRBpu3gT.js";import"./TextInput-Dcw03Ip4.js";import"./helperFuntions-D5lYpqZv.js";import"./index-DEqkLp3P.js";const y=I().shape({password:f().required("Password is required"),confirmPassword:f().oneOf([N("password"),""],"Passwords do not match.").required("Confirm password is required")}),B=r=>{if(r instanceof File)return URL.createObjectURL(r);if(r)return r};function J(){const{mutateAsync:r,isPending:t}=U(),n=w.useCallback(a=>{r({updates:[a]})},[]),{user:s}=P(),g=e.jsx(p,{initialValues:{userName:s==null?void 0:s.userName,phone:"",email:s==null?void 0:s.email,role:s==null?void 0:s.role,profileImg:s==null?void 0:s.profileImg,firstName:s==null?void 0:s.firstName,lastName:s==null?void 0:s.lastName,userId:s==null?void 0:s.userId},onSubmit:n,children:({values:a})=>e.jsx(j,{children:e.jsx(o,{p:"lg",children:e.jsxs(l,{shadow:"sm",padding:"lg",children:[e.jsxs(d,{gutter:"md",children:[e.jsx(d.Col,{span:{base:12,md:4},children:e.jsx(l,{shadow:"sm",padding:"md",children:e.jsxs(o,{align:"center",children:[a!=null&&a.profileImg?e.jsx(m,{style:{boxShadow:"initial"},children:e.jsx(F,{src:B(a==null?void 0:a.profileImg),alt:"Profile Pic",h:150,w:"auto",fit:"contain",radius:"lg"})}):e.jsx(C,{radius:"xl",size:150}),e.jsx(S,{label:"Change Profile Image",name:"profileImg",maxSize:3})]})})}),e.jsx(d.Col,{span:{base:12,md:8},children:e.jsxs(o,{children:[e.jsxs(c,{grow:!0,children:[e.jsx(i,{label:"First Name",name:"firstName",disabled:!0}),e.jsx(i,{label:"Last Name",name:"lastName",disabled:!0})]}),e.jsx(i,{label:"Username",name:"userName"}),e.jsxs(c,{grow:!0,children:[e.jsx(i,{label:"Phone Number",name:"phone"}),e.jsx(i,{label:"Email Address",name:"email"})]}),e.jsx(k,{label:"Current Role",name:"role",disabled:!0,data:A})]})})]}),e.jsx(x,{mt:20,children:e.jsx(h,{type:"submit",loading:t,children:"Save Changes"})})]})})})}),u=e.jsx(l,{p:"xl",mt:"xs",children:e.jsx(p,{initialValues:{password:"",email:s==null?void 0:s.email,userId:s==null?void 0:s.userId,confirmPassword:""},onSubmit:n,validationSchema:y,children:e.jsx(j,{children:e.jsxs(m,{m:"auto",w:"500px",children:[e.jsxs(o,{children:[e.jsx(b,{name:"password",label:"Password"}),e.jsx(b,{name:"confirmPassword",label:"Confirm Password"})]}),e.jsx(x,{mt:"md",children:e.jsx(h,{type:"submit",loading:t,children:"Change Password"})})]})})})});return e.jsxs(l,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:[e.jsx(q,{order:2,mb:"md",children:"Your Profile"}),e.jsx(R,{tabs:[{label:"Your Details",value:"details",content:g},{label:"Change Password",value:"password",content:u}]})]})}export{J as default};
