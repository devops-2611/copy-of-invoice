import{r as w,u as P,j as s,B as m,I as F,l as I,G as n,m as c,e as p}from"./index-BLIlmA3H.js";import{F as x,a as h,c as C,b as j,d as N}from"./index.esm-DfjObHCA.js";import{F as r}from"./FormikInputField-B2PJ7d2X.js";import{u as S,F as U,a as k,b as A}from"./useUpdateUser-w8Owpn5w.js";import{F as f}from"./FormikPasswordField-BF_OnA6I.js";import{A as q}from"./AppTabs-C-8ZgSK-.js";import{g as y}from"./helperFuntions-DGUG679L.js";import{S as i}from"./Stack-C0tO9y16.js";import{C as o}from"./Card-BkV0B0Wj.js";import{G as l}from"./Grid-_UBg_JVV.js";import{T as B}from"./Title-DKWiMa_B.js";import"./TextInput-HlJqnerf.js";import"./InputBase-DX49xYkW.js";import"./Select-BzWorYtb.js";import"./Tabs-Dn3yYXdp.js";const G=C().shape({password:j().required("Password is required"),confirmPassword:j().oneOf([N("password"),""],"Passwords do not match.").required("Confirm password is required")});function Q(){const{mutateAsync:b,isPending:d}=S(),t=w.useCallback(a=>{b({updates:[a]})},[]),{user:e}=P(),g=s.jsx(x,{initialValues:{userName:e==null?void 0:e.userName,phone:"",email:e==null?void 0:e.email,role:e==null?void 0:e.role,profileImg:e==null?void 0:e.profileImg,firstName:e==null?void 0:e.firstName,lastName:e==null?void 0:e.lastName,userId:e==null?void 0:e.userId},onSubmit:t,children:({values:a})=>s.jsx(h,{children:s.jsx(i,{p:"lg",children:s.jsxs(o,{shadow:"sm",padding:"lg",children:[s.jsxs(l,{gutter:"md",children:[s.jsx(l.Col,{span:{base:12,md:4},children:s.jsx(o,{shadow:"sm",padding:"md",children:s.jsxs(i,{align:"center",children:[a!=null&&a.profileImg?s.jsx(m,{style:{boxShadow:"initial"},children:s.jsx(F,{src:y(a==null?void 0:a.profileImg),alt:"Profile Pic",h:200,w:"auto",fit:"contain",radius:"lg"})}):s.jsx(I,{radius:"xl",size:150}),s.jsx(U,{label:"Change Profile Image",name:"profileImg",maxSize:3})]})})}),s.jsx(l.Col,{span:{base:12,md:8},children:s.jsxs(i,{children:[s.jsxs(n,{grow:!0,children:[s.jsx(r,{label:"First Name",name:"firstName",disabled:!0}),s.jsx(r,{label:"Last Name",name:"lastName",disabled:!0})]}),s.jsx(r,{label:"Username",name:"userName"}),s.jsxs(n,{grow:!0,children:[s.jsx(r,{label:"Phone Number",name:"phone"}),s.jsx(r,{label:"Email Address",name:"email"})]}),s.jsx(k,{label:"Current Role",name:"role",disabled:!0,data:A})]})})]}),s.jsx(c,{mt:20,children:s.jsx(p,{type:"submit",loading:d,children:"Save Changes"})})]})})})}),u=s.jsx(o,{p:"xl",mt:"xs",children:s.jsx(x,{initialValues:{password:"",email:e==null?void 0:e.email,userId:e==null?void 0:e.userId,confirmPassword:""},onSubmit:t,validationSchema:G,children:s.jsx(h,{children:s.jsxs(m,{m:"auto",w:"500px",children:[s.jsxs(i,{children:[s.jsx(f,{name:"password",label:"Password"}),s.jsx(f,{name:"confirmPassword",label:"Confirm Password"})]}),s.jsx(c,{mt:"md",children:s.jsx(p,{type:"submit",loading:d,children:"Change Password"})})]})})})});return s.jsxs(o,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:[s.jsx(B,{order:2,mb:"md",children:"Your Profile"}),s.jsx(q,{tabs:[{label:"Your Details",value:"details",content:g},{label:"Change Password",value:"password",content:u}]})]})}export{Q as default};
